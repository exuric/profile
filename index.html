<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BlockBlast</title>
<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: Arial, sans-serif;
  background: linear-gradient(#0b0b0b, #1a1a1a);
  color: white;
  text-align: center;
}

#gameCanvas {
  background: #111;
  display: block;
  margin: 0 auto;
  border: 2px solid #555;
  border-radius: 15px;
}

h1 {
  margin: 10px 0;
  font-size: 32px;
  color: #00ffea;
  text-shadow: 0 0 10px #00ffea;
}

#scoreboard {
  margin: 10px 0;
  font-size: 20px;
}

#adBanner {
  width: 90%;
  height: 90px;
  background: #222;
  color: #aaa;
  margin: 10px auto;
  line-height: 90px;
  font-size: 24px;
  border-radius: 12px;
  border: 2px dashed #555;
}

button {
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: #00ffea;
  color: #000;
  margin: 5px;
}
button:hover {
  background: #00c2b8;
}
</style>
</head>
<body>

<h1>BlockBlast</h1>
<div id="scoreboard">Score: 0 | Lives: 3</div>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<div id="adBanner">ADVERTISEMENT PLACEHOLDER</div>
<button id="restartBtn">Restart Game</button>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let score = 0;
let lives = 3;
let blocks = [];
let gameInterval;
let spawnInterval;

// Block properties
const blockWidth = 50;
const blockHeight = 50;
const blockSpeed = 2;

// Spawn a new block at random x position
function spawnBlock() {
  const x = Math.random() * (canvas.width - blockWidth);
  blocks.push({ x, y: -blockHeight, width: blockWidth, height: blockHeight });
}

// Update game state
function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw blocks
  for (let i = blocks.length - 1; i >= 0; i--) {
    const b = blocks[i];
    b.y += blockSpeed;
    ctx.fillStyle = '#ff0055';
    ctx.fillRect(b.x, b.y, b.width, b.height);

    // If block reaches bottom
    if (b.y + b.height >= canvas.height) {
      blocks.splice(i, 1);
      lives--;
      updateScoreboard();
      if (lives <= 0) {
        endGame();
      }
    }
  }
}

// Update scoreboard text
function updateScoreboard() {
  document.getElementById('scoreboard').textContent = `Score: ${score} | Lives: ${lives}`;
}

// Click event to destroy blocks
canvas.addEventListener('click', (e) => {
  const rect = canvas.getBoundingClientRect();
  const mx = e.clientX - rect.left;
  const my = e.clientY - rect.top;

  for (let i = blocks.length - 1; i >= 0; i--) {
    const b = blocks[i];
    if (mx > b.x && mx < b.x + b.width && my > b.y && my < b.y + b.height) {
      blocks.splice(i, 1);
      score += 10;
      updateScoreboard();
      break;
    }
  }
});

// Start game
function startGame() {
  blocks = [];
  score = 0;
  lives = 3;
  updateScoreboard();
  gameInterval = setInterval(update, 20);
  spawnInterval = setInterval(spawnBlock, 1000);
}

// End game
function endGame() {
  clearInterval(gameInterval);
  clearInterval(spawnInterval);
  alert(`Game Over! Your score: ${score}`);
}

// Restart button
document.getElementById('restartBtn').addEventListener('click', () => {
  startGame();
});

// Start immediately
startGame();
</script>
</body>
</html>
